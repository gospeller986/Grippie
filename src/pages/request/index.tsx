import { useRouter } from 'next/router'
import React, { useEffect, useRef } from 'react'
import { motion, useMotionValue, useSpring, useTransform } from 'framer-motion';
import Inner from '@/components/Layout/Inner';
import CompanyLogo from '@/components/CompanyLogo';
import CommonFooter from '@/components/CommonFooter';

const RequestPage = () => {
    const router = useRouter();

    const handleForMySelf = () => {
        router.push("/user-details")
    }

    const handleForSomeone = () => {
        router.push("/user-details")
    }

    const x = useMotionValue(0);
    const y = useMotionValue(0);

    const smoothX = useSpring(x, { stiffness: 100, damping: 20 });
    const smoothY = useSpring(y, { stiffness: 100, damping: 20 });

    const svgRef = useRef<HTMLDivElement>(null);

    const handleMouseMove = (e: MouseEvent) => {
        if (!svgRef.current) return;
        const rect = svgRef.current.getBoundingClientRect();
        const offsetX = (e.clientX - rect.left - rect.width / 2) / 20;
        const offsetY = (e.clientY - rect.top - rect.height / 2) / 20;
        x.set(offsetX);
        y.set(offsetY);
    };

    const handleTouchMove = (e: TouchEvent) => {
        if (!svgRef.current) return;
        const touch = e.touches[0]; // Get the first touch point
        const rect = svgRef.current.getBoundingClientRect();
        const offsetX = (touch.clientX - rect.left - rect.width / 2) / 20;
        const offsetY = (touch.clientY - rect.top - rect.height / 2) / 20;
        x.set(offsetX);
        y.set(offsetY);
    };

    useEffect(() => {
        // Add event listeners for mouse and touch events
        window.addEventListener('mousemove', handleMouseMove);
        window.addEventListener('touchmove', handleTouchMove, { passive: true });

        // Cleanup event listeners on unmount
        return () => {
            window.removeEventListener('mousemove', handleMouseMove);
            window.removeEventListener('touchmove', handleTouchMove);
        };
    }, [x, y]);

    return (
        <Inner>
            <div className='h-screen w-full' style={{
                fontFamily: 'Prometo'
            }}>
                <div className='w-full h-[568px]'
                    style={{
                        background: "linear-gradient(172.49deg, #1B1722 13.76%, #362C4A 76.91%)",
                        display: "flex",
                        flexDirection: "column",
                        alignItems: "center"
                    }}
                >
                    <div className='mt-[32px]'>
                        <CompanyLogo />
                    </div>

                    <div ref={svgRef} className='mt-[81px] relative overflow-hidden'>
                        <motion.svg
                            style={{ x: smoothX, y: smoothY }}
                            animate={{ y: [0, -10, 0] }}
                            transition={{
                                duration: 3,
                                repeat: Infinity,
                                ease: 'easeInOut',
                            }}
                            className='animate-float' width="100%" height="340" viewBox="0 0 360 340" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_2_866)">
                                <path d="M147.371 30.6848L138.792 37.3971C138.474 37.6563 138.226 37.9859 138.073 38.3555C137.919 38.7252 137.865 39.1231 137.914 39.5127L144.555 93.208C144.683 94.2359 145.173 95.1828 145.946 95.8949C146.719 96.607 147.729 97.0425 148.813 97.1305L204.932 101.575C205.812 101.644 206.695 101.389 207.402 100.863L217.931 92.994C217.931 92.994 160.822 86.0057 159.652 85.7195C158.482 85.4333 156.469 84.0162 156.016 81.4632C155.563 78.9101 147.371 30.6848 147.371 30.6848Z" fill="#7F43FE" />
                                <path d="M206.259 101.798C205.816 101.916 205.356 101.958 204.902 101.921L148.783 97.4765C147.616 97.3853 146.527 96.9179 145.694 96.1508C144.862 95.3837 144.336 94.3625 144.203 93.2549L137.561 39.5597C137.504 39.113 137.567 38.6568 137.744 38.2331C137.92 37.8095 138.205 37.4322 138.571 37.1362L147.643 30.0345L147.741 30.6193C147.824 31.1039 155.976 78.862 156.41 81.3877C156.815 83.6732 158.628 85.111 159.781 85.3765C160.738 85.6042 198.295 90.2285 218.02 92.6436L218.872 92.7482L207.645 101.136C207.232 101.442 206.761 101.667 206.259 101.798ZM147.107 31.3194L139.019 37.6498C138.748 37.8703 138.537 38.1508 138.407 38.4654C138.277 38.78 138.23 39.1186 138.273 39.45L144.914 93.1453C145.026 94.0977 145.477 94.9762 146.192 95.6358C146.907 96.2954 147.844 96.6967 148.847 96.7732L204.963 101.222C205.756 101.286 206.552 101.056 207.186 100.579L217.012 93.227C209.624 92.3118 160.654 86.3198 159.542 86.0507C158.292 85.7497 156.128 84.2505 155.644 81.5225C155.255 79.1503 148.046 36.8404 147.107 31.3194Z" fill="#F2F2F2" />
                                <path d="M215.626 93.2997L159.925 88.4963C157.044 88.247 154.385 86.0131 154.002 83.5098L146.346 33.6083C145.97 31.1605 147.993 29.478 150.858 29.8392L206.21 36.8767C208.843 37.2095 211.29 39.3739 211.672 41.7159L219.678 89.3832C220.081 91.7914 218.266 93.5301 215.615 93.3025L215.626 93.2997Z" fill="#FA8527" />
                                <g clip-path="url(#clip1_2_866)">
                                    <path d="M184.092 58.1636C184.698 57.911 185.082 57.6156 185.234 57.2775C185.387 56.9394 185.379 56.407 185.207 55.6725C184.972 54.666 184.6 53.9549 184.1 53.539C183.595 53.1232 182.73 52.8434 181.509 52.6957L179.067 52.4043L176.915 52.1478C176.215 52.0623 175.498 51.9846 174.771 51.9146C174.043 51.8447 173.248 51.7708 172.391 51.697L172 44.9739C172.888 45.0517 173.706 45.1255 174.446 45.1993C175.189 45.2732 175.917 45.3548 176.633 45.4403L178.805 45.7006L181.2 45.9882C184.812 46.4196 187.582 47.4416 189.512 49.0505C191.441 50.6594 192.76 52.9911 193.472 56.0417L193.589 56.5469C194.074 58.6221 194.121 60.2193 193.73 61.3463C193.339 62.4733 192.427 63.3205 190.995 63.8879L189.202 64.6068C188.721 64.7856 188.334 64.9566 188.036 65.112C187.739 65.2713 187.524 65.4734 187.395 65.726C187.265 65.9786 187.203 66.2973 187.203 66.682C187.203 67.0667 187.273 67.5525 187.41 68.1316L187.582 68.8622L179.654 67.9139L179.482 67.1833C179.177 65.8737 178.997 64.7623 178.942 63.849C178.887 62.9396 178.969 62.1624 179.181 61.5212C179.392 60.88 179.756 60.3515 180.269 59.9395C180.781 59.5276 181.466 59.1623 182.323 58.8514L184.08 58.1713L184.092 58.1636ZM189.578 75.3209C189.872 76.5723 189.774 77.5322 189.292 78.2006C188.811 78.869 187.731 79.1022 186.06 78.904C184.389 78.7058 183.137 78.1928 182.303 77.3651C181.474 76.5412 180.91 75.4997 180.617 74.2484C180.323 72.997 180.429 72.076 180.906 71.392C181.384 70.7081 182.46 70.4671 184.135 70.6653C185.81 70.8635 187.062 71.3843 187.895 72.2276C188.729 73.0709 189.289 74.1007 189.574 75.3209L189.578 75.3209Z" fill="white" />
                                </g>
                                <path d="M218.222 81.6744L223.32 112.027L201.88 91.843L218.222 81.6744Z" fill="#FA8527" />
                                <path d="M199.589 100.736L217.058 114.7L223.32 112.026L208.241 97.8378L199.589 100.736Z" fill="#7F43FE" />
                            </g>
                            <g clip-path="url(#clip2_2_866)">
                                <path d="M20.7831 122.071L18.6992 124.196C18.6222 124.277 18.5669 124.375 18.5386 124.481C18.5102 124.586 18.5096 124.695 18.5368 124.799L22.2553 139.045C22.3267 139.317 22.4933 139.555 22.7282 139.719C22.963 139.883 23.2522 139.963 23.5488 139.947L38.9088 139.096C39.1496 139.083 39.3798 138.981 39.5524 138.814L42.1231 136.306C42.1231 136.306 26.4041 136.507 26.0769 136.472C25.7498 136.438 25.1539 136.129 24.9399 135.457C24.726 134.784 20.7831 122.071 20.7831 122.071Z" fill="#7F43FE" />
                                <path d="M39.2765 139.108C39.1606 139.156 39.0375 139.184 38.9131 139.191L23.5532 140.042C23.2338 140.06 22.9221 139.974 22.6692 139.797C22.4164 139.62 22.2374 139.364 22.1617 139.07L18.4432 124.824C18.4118 124.706 18.4124 124.58 18.4451 124.46C18.4778 124.339 18.5414 124.227 18.6301 124.133L20.8336 121.886L20.8811 122.04C20.9209 122.167 24.8362 134.756 25.0441 135.422C25.2354 136.024 25.778 136.345 26.0998 136.375C26.3671 136.401 36.7056 136.277 42.1348 136.208L42.3694 136.205L39.6282 138.878C39.5273 138.976 39.4077 139.054 39.2765 139.108ZM20.7341 122.252L18.7697 124.256C18.7041 124.325 18.6572 124.408 18.6331 124.498C18.609 124.588 18.6087 124.681 18.632 124.769L22.3505 139.015C22.4149 139.267 22.5683 139.488 22.7856 139.64C23.0029 139.792 23.2709 139.866 23.5455 139.85L38.9048 139C39.1217 138.988 39.3291 138.897 39.4839 138.745L41.8827 136.402C39.8488 136.425 26.37 136.598 26.0592 136.566C25.7099 136.53 25.0701 136.205 24.8415 135.486C24.6511 134.86 21.1861 123.707 20.7341 122.252Z" fill="#F2F2F2" />
                                <path d="M41.51 136.472L26.2504 137.212C25.4611 137.25 24.661 136.744 24.4678 136.082L20.6101 122.897C20.4208 122.25 20.9087 121.723 21.6976 121.715L36.9424 121.592C37.6676 121.585 38.4077 122.08 38.5949 122.698L42.4675 135.267C42.6627 135.903 42.2334 136.438 41.5072 136.473L41.51 136.472Z" fill="#FA8527" />
                                <path d="M36.7851 134.953L30.1223 135.234L30.2351 135.071C30.3333 134.929 30.461 134.807 30.6098 134.714C30.7586 134.621 30.9251 134.559 31.0982 134.531L31.9286 134.385C32.2222 134.333 32.414 134.103 32.4291 133.785L32.4419 133.514C32.4431 133.25 32.3513 132.998 32.1815 132.797L31.7091 132.21C31.5577 132.013 31.3417 131.871 31.0934 131.806L29.4993 131.442C29.2528 131.385 29.0131 131.306 28.7831 131.208L28.7159 131.179C28.2034 130.949 27.7486 130.62 27.3785 130.212C27.0083 129.805 26.7303 129.327 26.5608 128.807C26.4708 128.53 26.422 128.24 26.4157 127.947C26.384 126.689 26.5799 125.426 26.9949 124.214L27.2049 123.616L32.2987 123.4L32.8798 123.965C33.9946 125.045 34.9731 126.248 35.7966 127.551C35.9677 127.818 36.103 128.105 36.1994 128.407C36.5309 129.445 36.3001 130.397 35.598 130.893L35.5511 130.926C35.3813 131.045 35.1966 131.142 35.0019 131.214L33.6821 131.7C33.5876 131.738 33.5051 131.8 33.4444 131.879C33.3836 131.959 33.3473 132.052 33.3396 132.149L33.2503 132.76C33.2247 133.019 33.2951 133.274 33.449 133.48L33.6316 133.743C33.8469 134.051 34.1783 134.258 34.4968 134.285L35.3964 134.359C35.8314 134.405 36.2406 134.563 36.5821 134.814L36.7851 134.953ZM30.5245 135.035L36.2714 134.794C36.0149 134.648 35.7266 134.558 35.4258 134.53L34.5262 134.456C34.1461 134.425 33.7501 134.177 33.4972 133.807L33.315 133.545C33.1289 133.296 33.0438 132.989 33.0748 132.678L33.1641 132.066C33.1746 131.949 33.2195 131.836 33.2937 131.741C33.3679 131.645 33.4681 131.57 33.5827 131.526L34.9025 131.039C35.0883 130.971 35.2643 130.879 35.4255 130.765L35.4728 130.732C36.1304 130.268 36.3467 129.377 36.0331 128.409C35.942 128.129 35.8162 127.862 35.6583 127.613C34.8461 126.328 33.8817 125.142 32.7832 124.075L32.2737 123.582L27.3509 123.788L27.1654 124.311C26.7567 125.507 26.5635 126.752 26.5943 127.993C26.6002 128.268 26.6463 128.539 26.7312 128.799C26.8898 129.285 27.1496 129.731 27.4954 130.112C27.8412 130.492 28.266 130.799 28.7447 131.015L28.8119 131.043C29.031 131.137 29.2593 131.212 29.494 131.266L31.0881 131.63C31.3892 131.71 31.651 131.883 31.8347 132.122L32.307 132.71C32.5114 132.952 32.622 133.256 32.6209 133.574L32.6082 133.845C32.5902 134.225 32.3612 134.498 32.011 134.56L31.1796 134.707C30.9326 134.746 30.7023 134.861 30.5245 135.035Z" fill="#F2F2F2" />
                                <path d="M35.3176 127.766C35.1638 127.523 35.0107 127.287 34.8435 127.053C34.1656 126.085 33.3948 125.181 32.5405 124.353L27.5776 124.564C27.2534 125.502 27.0697 126.473 27.0322 127.449C27.0215 127.67 27.0179 127.892 27.0224 128.118C27.0275 128.345 27.0656 128.568 27.1357 128.781C27.2663 129.182 27.4805 129.55 27.7657 129.864C28.051 130.178 28.4014 130.431 28.7964 130.609L28.861 130.637C29.053 130.719 29.2531 130.785 29.459 130.832L31.053 131.195C31.4495 131.287 33.003 131.222 33.3309 131.1L34.6506 130.614C34.8128 130.554 34.9667 130.473 35.1079 130.375L35.1563 130.339C35.6975 129.959 35.8758 129.224 35.6206 128.425C35.5481 128.193 35.4464 127.972 35.3176 127.766Z" fill="#7F43FE" />
                                <path d="M31.1515 126.106C31.2811 126.267 31.4859 126.324 31.6095 126.234C31.7331 126.144 31.7269 125.94 31.5982 125.778C31.4695 125.617 31.2638 125.561 31.1406 125.652C31.0174 125.742 31.0219 125.945 31.1515 126.106Z" fill="#1D1D1D" />
                                <g style={{ mixBlendMode: "overlay" }} opacity="0.5">
                                    <path d="M31.5017 125.127C31.5935 125.241 31.7384 125.282 31.8257 125.217C31.913 125.152 31.9093 125.01 31.8175 124.895C31.7257 124.781 31.5812 124.741 31.4939 124.806C31.4066 124.871 31.4102 125.013 31.5017 125.127Z" fill="#FA8527" />
                                </g>
                                <g style={{ mixBlendMode: "overlay" }} opacity="0.5">
                                    <path d="M30.6397 124.984C30.7312 125.098 30.8751 125.139 30.9628 125.075C31.0505 125.011 31.0461 124.866 30.9546 124.753C30.8632 124.639 30.7183 124.599 30.6316 124.663C30.5448 124.726 30.5482 124.871 30.6397 124.984Z" fill="#FA8527" />
                                </g>
                                <path d="M30.3704 129.004L28.5808 128.092C28.5271 128.065 28.4834 128.023 28.4552 127.972C28.427 127.92 28.4155 127.861 28.4221 127.802L28.7983 126.151C28.8221 126.048 28.9303 126.01 29.042 126.067L30.8337 126.972C30.8876 126.998 30.9315 127.04 30.9597 127.092C30.9879 127.143 30.9993 127.202 30.9924 127.261L30.6171 128.912C30.5921 129.015 30.4817 129.06 30.3704 129.004Z" fill="#1D1D1D" />
                                <path d="M32.9775 129.923L31.1879 129.011C31.1339 128.984 31.0901 128.942 31.0619 128.891C31.0336 128.839 31.0223 128.78 31.0292 128.721L31.4054 127.07C31.4282 126.967 31.5374 126.929 31.649 126.986L33.4386 127.899C33.4924 127.926 33.5361 127.967 33.5643 128.019C33.5925 128.07 33.604 128.129 33.5973 128.188L33.2211 129.84C33.1983 129.942 33.0887 129.979 32.9775 129.923Z" fill="#1D1D1D" />
                                <path d="M34.9592 128.231C34.9418 128.231 34.9249 128.226 34.9099 128.219C34.8948 128.211 34.8819 128.2 34.8722 128.187L31.4979 124.038C31.4638 123.995 31.4582 123.942 31.4945 123.917C31.5308 123.892 31.5814 123.907 31.6165 123.949L34.9915 128.094C35.0266 128.137 35.0312 128.19 34.9963 128.216C34.9859 128.225 34.9728 128.23 34.9592 128.231Z" fill="#1D1D1D" />
                                <path d="M41.7976 133.241L44.2633 141.244L37.7344 136.582L41.7976 133.241Z" fill="#FA8527" />
                                <path d="M37.4315 139.065L42.6627 142.194L44.2632 141.244L39.6716 137.967L37.4315 139.065Z" fill="#7F43FE" />
                            </g>
                            <g clip-path="url(#clip3_2_866)">
                                <path d="M334.887 291.827L336.1 293.204C336.185 293.3 336.238 293.422 336.254 293.556C336.269 293.69 336.246 293.829 336.187 293.955L330.755 305.691C330.637 305.947 330.439 306.156 330.196 306.278C329.953 306.401 329.683 306.428 329.437 306.355L315.373 302.139C315.177 302.081 315.016 301.943 314.921 301.755L314.478 300.611L328.306 304.346C328.306 304.346 329.145 304.254 329.51 303.582C329.874 302.91 334.887 291.824 334.887 291.824L334.887 291.827Z" fill="#7F43FE" />
                                <path d="M315.21 302.195C315.046 302.115 314.913 301.981 314.829 301.812L314.825 301.804L314.299 300.449L328.321 304.239C328.437 304.221 329.119 304.096 329.42 303.536C329.776 302.874 334.744 291.895 334.794 291.785L334.863 291.632L336.178 293.124C336.276 293.236 336.338 293.378 336.356 293.533C336.373 293.688 336.346 293.849 336.277 293.995L330.845 305.731C330.716 306.012 330.498 306.241 330.232 306.375C329.965 306.509 329.67 306.538 329.4 306.459L315.335 302.243C315.292 302.231 315.25 302.215 315.21 302.195ZM315.015 301.703C315.098 301.865 315.238 301.984 315.407 302.034L329.471 306.25C329.694 306.316 329.938 306.291 330.157 306.18C330.376 306.07 330.556 305.881 330.662 305.649L336.095 293.913C336.145 293.807 336.164 293.69 336.151 293.578C336.139 293.465 336.094 293.362 336.023 293.282L334.911 292.021C333.996 294.033 329.924 303.029 329.598 303.634C329.21 304.355 328.347 304.455 328.31 304.458L328.292 304.461L328.276 304.453L314.657 300.773L315.015 301.703Z" fill="#F2F2F2" />
                                <path d="M334.868 292.427C335.098 291.934 334.791 291.43 334.185 291.299L321.5 288.557C320.962 288.441 320.331 288.715 320.087 289.17L314.988 298.698L314.977 298.722L312.002 304.242L316.764 301.426L327.904 304.561C328.525 304.736 329.238 304.438 329.491 303.897L334.868 292.427Z" fill="#FA8527" />
                                <path d="M316.591 302.38L312.986 304.599L312.001 304.241L315.699 302.053L316.591 302.38Z" fill="#7F43FE" />
                            </g>
                            <path d="M319.486 42.1417C317.47 41.6285 316.012 41.6303 315.111 42.1473C314.208 42.6666 313.569 43.6646 313.192 45.1447C312.795 46.7007 312.872 47.9115 313.421 48.7796C313.968 49.6459 315.251 50.3367 317.267 50.8513C319.244 51.3551 320.682 51.3578 321.579 50.8605C322.475 50.3614 323.122 49.3349 323.518 47.7786C323.895 46.2985 323.81 45.1164 323.268 44.2295C322.725 43.3422 321.464 42.6472 319.486 42.1417Z" fill="#7F43FE" />
                            <path d="M123.58 311.917C121.5 311.891 120.083 312.235 119.328 312.948C118.572 313.665 118.186 314.785 118.166 316.312C118.145 317.918 118.504 319.077 119.241 319.792C119.977 320.506 121.386 320.876 123.466 320.904C125.506 320.93 126.904 320.595 127.66 319.901C128.413 319.206 128.802 318.056 128.822 316.45C128.842 314.923 128.482 313.794 127.747 313.059C127.01 312.324 125.621 311.944 123.58 311.917Z" fill="#F94B57" />
                            <path d="M58.4868 9.47657C57.1129 9.80146 56.2363 10.2609 55.8569 10.855C55.4769 11.4512 55.4066 12.2521 55.6448 13.261C55.895 14.3217 56.3218 15.0259 56.9247 15.3755C57.5265 15.7244 58.5154 15.7367 59.8894 15.4128C61.2369 15.0944 62.1025 14.6442 62.4857 14.0632C62.8678 13.4814 62.9348 12.6604 62.6837 11.5998C62.4455 10.591 62.0229 9.9067 61.4181 9.5436C60.8123 9.18069 59.8354 9.15898 58.4868 9.47657Z" fill="#8AC926" />
                            <defs>
                                <clipPath id="clip0_2_866">
                                    <rect width="78.4988" height="99.6331" fill="white" transform="translate(129 36.095) rotate(-14.8518)" />
                                </clipPath>
                                <clipPath id="clip1_2_866">
                                    <rect width="22" height="34" fill="white" transform="translate(172 44.9739)" />
                                </clipPath>
                                <clipPath id="clip2_2_866">
                                    <rect width="21.4625" height="27.1105" fill="white" transform="translate(16.0002 124.202) rotate(-22.4668)" />
                                </clipPath>
                                <clipPath id="clip3_2_866">
                                    <rect width="17.571" height="21.4426" fill="white" transform="translate(321.465 285) rotate(26.1943)" />
                                </clipPath>
                            </defs>
                        </motion.svg>
                        <h1
                            className='text-wrap w-full text-center'
                            style={{
                                fontSize: '1.8rem',
                                fontWeight: "500",
                                color: "white",
                                position: 'absolute',
                                bottom: 56,
                            }}>Hi Dhruv, Are you <br /> requesting reservation <br /> for yourself?</h1>
                    </div>

                    <div className=' w-full md:w-[420px] absolute top-[540px]'>
                        <div className='px-[49px] w-full'>
                            <button
                                onClick={() => handleForMySelf()}
                                style={{
                                    background: "linear-gradient(79.28deg, #90DF14 3.26%, #E8FEA6 106.97%)",
                                    border: "1.5px solid #D5F6A1",
                                    color: "#417035",
                                    height: "55px",
                                    borderRadius: "15px",
                                    width: "100%",
                                    fontSize: "18px",
                                    fontWeight: "500"
                                }}
                            >
                                Yes , its for myself
                            </button>

                            <button
                                onClick={() => handleForSomeone()}
                                style={{
                                    background: "linear-gradient(90deg, #FAFAFA 0%, #E7EBFF 100%)",
                                    border: "1px solid #CAD6FF",
                                    color: "#5B5ED4",
                                    height: "55px",
                                    borderRadius: "15px",
                                    width: "100%",
                                    fontSize: "18px",
                                    fontWeight: "500",
                                    marginTop: "16px"
                                }}
                            >
                                Requesting for someone else
                            </button>

                        </div>



                        <div className='mt-[42px] w-full md:flex justify-center relative '>
                            <CommonFooter />
                        </div>

                    </div>



                </div>

            </div>
        </Inner>
    )
}

export default RequestPage